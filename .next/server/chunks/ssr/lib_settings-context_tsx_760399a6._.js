module.exports=[60625,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(30485);var d=a.i(31052);a.i(69387);var e=a.i(60574),f=a.i(18740),g=a.i(77687);let h={theme:"light",currency:"TRY",language:"en",notificationsEnabled:!0},i=(0,c.createContext)(void 0),j={en:{settings:"Settings",general:"General",profile:"Profile",currency:"Currency",language:"Language",notifications:"Notifications",theme:"Theme",system:"System",light:"Light",dark:"Dark",permissions:"Permissions",help:"Help",legal:"Legal",inviteRate:"Invite & Rate Us",selectCurrency:"Select Currency",selectLanguage:"Select Language",selectTheme:"Select Theme",groupsTitle:"Groups",createNewGroup:"Create New Group",joinGroup:"Join Group",joinViaCode:"Join via Code",groupName:"Group Name",enterGroupName:"Weekend Trip, Apartment, etc.",inviteCode:"Invite Code",enterInviteCode:"Enter invite code",noGroupsYet:"No groups yet",noGroupsDesc:"Create a new group or join an existing one to start tracking expenses with friends and family.",membersCount:"members",totalExpenses:"Total expenses",groupCreated:"Group created",groupCreatedDesc:"has been created successfully",joinedGroup:"Joined group",joinedGroupDesc:"You've successfully joined the group",invalidInput:"Invalid input",enterGroupNameError:"Please enter a group name",enterInviteCodeError:"Please enter an invite code",creating:"Creating...",joining:"Joining...",enterGroupNamePlaceholder:"Weekend Trip, Apartment 4B, etc.",enterInviteCodePlaceholder:"Enter the group invite code",inviteNotFound:"This invite code was not found",inviteMissingInfo:"Invite is missing group information",couldNotJoin:"Could not join the group",couldNotCreate:"Could not create the group",groupBalance:"Group Balance",netBalance:"Net Balance",youOwe:"You owe",youreOwed:"You're owed",allSettled:"All Settled!",noOutstandingDebts:"No outstanding debts",debts:"Debts",owes:"owes",you:"you",You:"You",recordPayment:"Record Payment",trackPayments:"Track received payments",member:"Member",selectMember:"Select member",amount:"Amount",paymentType:"Payment Type",full:"Full",custom:"Custom",partial:"Partial",enterAmount:"Enter amount",recording:"Recording...",addExpense:"Add Expense",description:"Description",groceriesEtc:"Groceries, dinner, etc.",category:"Category (optional)",selectCategory:"Select a category",enterCustomCategory:"Enter custom category",splitWith:"Split with",adding:"Adding...",saving:"Saving...",saveChanges:"Save Changes",expenseDetails:"Expense Details",electricity:"Electricity",water:"Water",groceries:"Groceries/Market",internet:"Internet",rent:"Rent",transport:"Transport",dining:"Dining",entertainment:"Entertainment",other:"Other",status:"Status",members:"Members",feed:"Feed",group:"Group",sendMessage:"Send a message",typeMessage:"Type a message...",markAsPaid:"Mark as Paid",edit:"Edit",deleteExpense:"Delete Expense",paidBy:"Paid by",splitBetween:"Split between",error:"Error",success:"Success",invalidAmount:"Invalid amount",pleaseTryAgain:"Please try again.",failedToLoad:"Failed to load",paymentRecorded:"Payment recorded",expenseAdded:"Expense added successfully",expenseUpdated:"Expense updated successfully",paymentMarked:"Payment marked",couldNotSave:"Could not save settings",goBack:"Go Back",settlementRecorded:"Settlement recorded",memberJoined:"Member joined",someone:"Someone",groupMembers:"Group Members",owner:"Owner",transferOwnership:"Transfer Ownership",removeMember:"Remove Member",generateInviteCode:"Generate Invite Code",generateInviteCodeDesc:"Generate a code to share with others",leaveGroup:"Leave Group",leaveGroupDesc:"You can leave this group anytime.",leaveGroupOwnerDesc:"You're the group owner. Transfer ownership to someone else before leaving.",leaveGroupLastMemberDesc:"You're the last member. Leaving will permanently delete this group.",useMenuToTransfer:"Use the ⋮ menu next to a member to transfer ownership.",justNow:"Just now",minutesAgo:"m ago",hoursAgo:"h ago",daysAgo:"d ago",cancel:"Cancel",close:"Close",delete:"Delete",update:"Update",save:"Save",email:"Email",password:"Password",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",welcomeToKasa:"Welcome to Kasa",signInDesc:"Sign in to manage your shared expenses",createAccount:"Create your account",joinKasaDesc:"Join Kasa to start sharing expenses with friends",orContinueWith:"Or continue with",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",loginWithGoogle:"Login with Google",signingIn:"Signing in...",connecting:"Connecting...",creatingAccount:"Creating account...",fullName:"Full Name",confirmPassword:"Confirm Password",enterPassword:"Enter your password",enterPasswordConfirm:"Re-enter your password",createStrongPassword:"Create a strong password",googleSignInFailed:"Google sign-in failed. Please try again.",signInFailed:"Sign in failed. Please check your credentials.",passwordStrength:"Password strength:",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",atLeast8Chars:"At least 8 characters",upperAndLowerCase:"Upper and lowercase letters",atLeastOneNumber:"At least one number",passwordsDoNotMatch:"Passwords do not match",passwordTooWeak:"Password is too weak",invalidEmail:"Invalid email address",emailRequired:"Email is required",passwordRequired:"Password is required",nameRequired:"Full name is required",profileUpdated:"Profile updated",profileSaved:"Your profile has been saved.",couldNotSaveProfile:"Could not save profile",totalSpent:"Total Spent",balance:"Balance",appSettings:"App Settings",preferencesPermissions:"Preferences and permissions",ksExpenseApp:"Kasa Expense Sharing App",signOutConfirmTitle:"Sign Out",signOutConfirmDesc:"Are you sure you want to sign out? You'll need to sign in again to access your groups and expenses.",memberSince:"Member since",noName:"(No name)",paid:"paid",people:"people",hello:"Hello",expenseOverview:"Here's your expense overview",invalidSplitAmount:"Invalid split amount",splitMismatch:"Split amounts don't match",inviteCodeGenerated:"Invite code generated",copiedToClipboard:"Copied to clipboard",memberRemoved:"Member removed",ownershipTransferred:"Ownership transferred",leftGroup:"Left group",transferOwnershipFirst:"Transfer ownership first",paymentReceived:"Payment received",createFailed:"Create failed",joinFailed:"Join failed",invalidCode:"Invalid code",inviteMissingGroup:"Invite is missing group information",groupNotFound:"Group not found",myGroups:"My Groups",activeGroups:"active groups",activeTab:"Active",archivedTab:"Archived",unnamedGroup:"Unnamed group",noActiveGroups:"No active groups",createFirstGroup:"Create Your First Group",noArchivedGroups:"No archived groups",createGroupDesc:"Create a group to start tracking expenses with friends and family.",loginRequired:"Login required",loginRequiredDesc:"Please sign in to join a group.",enterCodeTitle:"Enter a code",enterCodeDesc:"Please paste the invite code.",inviteDisabled:"Invite disabled",inviteDisabledDesc:"This invite code is no longer active.",genericErrorTitle:"Error",genericErrorDesc:"Something went wrong. Please try again.",joinedTitle:"Joined!",joinedDesc:"You have joined the group.",navHome:"Home",navGroups:"Groups",navProfile:"Profile",activityDetails:"Activity Details",amountLabel:"Amount",userLabel:"User",groupLabel:"Group",timeLabel:"Time",tabAll:"All",tabExpenses:"Expenses",tabSettlements:"Settlements",showLess:"Show Less",viewAll:"View All",noActivityYet:"No activity yet",noExpensesYet:"No expenses yet",noSettlementsYet:"No settlements yet",manageProfileInfo:"Manage your profile information",enableNotifications:"Enable app notifications",camera:"Camera",allowed:"Allowed",denied:"Denied",photosMedia:"Photos & Media",contacts:"Contacts",termsOfService:"Terms of Service",readTerms:"Read our terms",privacyPolicy:"Privacy Policy",protectData:"How we protect your data",licenses:"Licenses",openSourceLicenses:"Open source licenses",faq:"FAQ",frequentlyAsked:"Frequently asked questions",contactSupport:"Contact Support",getHelp:"Get help from our team",reportProblem:"Report a Problem",letUsKnow:"Let us know about issues",inviteFriends:"Invite Friends",shareKasa:"Share Kasa with others",rateUs:"Rate Us",rateAppStore:"Rate us on the app store",notificationsEnabled:"Notifications enabled",notificationsDisabled:"Notifications disabled",willReceive:"You will receive app notifications",wontReceive:"You won't receive app notifications",currencyUpdated:"Currency updated",currencySet:"Default currency set to",languageUpdated:"Language updated",languageSet:"Language set to",themeUpdated:"Theme updated",followingSystem:"Following system appearance",switchedTo:"Switched to",inviteLinkCopied:"Invite link copied",shareLink:"Share this link with your friends to invite them",thankYou:"Thank you!",redirecting:"Redirecting to app store...",searchSettings:"Search settings...",allRightsReserved:"All rights reserved",permission:"Permission",permissionAllows:"This permission allows Kasa to access your",changeInSettings:"You can change this in your device settings",gotIt:"Got it",changesSaved:"Changes saved successfully",failedToUpdate:"Failed to update expense. Please try again.",failedToSend:"Failed to send message",failedToAdd:"Failed to add expense",verificationSent:"Verification email sent",checkEmail:"Please check your email to verify your account",emailNotVerified:"Email not verified",resendVerification:"Resend verification email",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",resetEmailSent:"Password reset email sent",enterEmailForReset:"Enter your email to reset password",noInternet:"No internet connection. Please check your network.",unarchiveGroup:"Unarchive Group",unarchiveSuccess:"Group unarchived",unarchiveConfirm:"Unarchive this group?",unarchiveConfirmDesc:"It will move back to the Active tab."},tr:{settings:"Ayarlar",general:"Genel",profile:"Profil",currency:"Para birimi",language:"Dil",notifications:"Bildirimler",theme:"Tema",system:"Sistem",light:"Açık",dark:"Koyu",permissions:"İzinler",help:"Yardım",legal:"Hukuki",inviteRate:"Davet Et & Puanla",selectCurrency:"Para Birimi Seç",selectLanguage:"Dil Seç",selectTheme:"Tema Seç",groupsTitle:"Gruplar",createNewGroup:"Yeni Grup Oluştur",joinGroup:"Gruba Katıl",joinViaCode:"Kod ile Katıl",groupName:"Grup Adı",enterGroupName:"Hafta sonu gezisi, Ev, vb.",inviteCode:"Davet Kodu",enterInviteCode:"Davet kodu gir",noGroupsYet:"Henüz grup yok",noGroupsDesc:"Arkadaşlarınızla ve ailenizle harcamaları takip etmek için yeni bir grup oluşturun veya mevcut bir gruba katılın.",membersCount:"üye",totalExpenses:"Toplam harcama",groupCreated:"Grup oluşturuldu",groupCreatedDesc:"başarıyla oluşturuldu",joinedGroup:"Gruba katıldınız",joinedGroupDesc:"Gruba başarıyla katıldınız",invalidInput:"Geçersiz giriş",enterGroupNameError:"Lütfen bir grup adı girin",enterInviteCodeError:"Lütfen bir davet kodu girin",creating:"Oluşturuluyor...",joining:"Katılıyor...",enterGroupNamePlaceholder:"Hafta sonu gezisi, Daire 4B, vb.",enterInviteCodePlaceholder:"Grup davet kodunu girin",inviteNotFound:"Bu davet kodu bulunamadı",inviteMissingInfo:"Davet grup bilgisi içermiyor",couldNotJoin:"Gruba katılınamadı",couldNotCreate:"Grup oluşturulamadı",groupBalance:"Grup Bakiyesi",netBalance:"Net Bakiye",youOwe:"Borçlusun",youreOwed:"Alacaklısın",allSettled:"Herkes Ödedi!",noOutstandingDebts:"Bekleyen borç yok",debts:"Borçlar",owes:"borçlu",you:"sana",You:"Sen",recordPayment:"Ödeme Kaydet",trackPayments:"Alınan ödemeleri kaydet",member:"Üye",selectMember:"Üye seç",amount:"Tutar",paymentType:"Ödeme Tipi",full:"Tam",custom:"Özel",partial:"Kısmi",enterAmount:"Tutar gir",recording:"Kaydediliyor...",addExpense:"Harcama Ekle",description:"Açıklama",groceriesEtc:"Market, yemek, vs.",category:"Kategori (opsiyonel)",selectCategory:"Kategori seç",enterCustomCategory:"Özel kategori gir",splitWith:"Paylaşım",adding:"Ekleniyor...",saving:"Kaydediliyor...",saveChanges:"Değişiklikleri Kaydet",expenseDetails:"Harcama Detayları",electricity:"Elektrik",water:"Su",groceries:"Market",internet:"İnternet",rent:"Kira",transport:"Ulaşım",dining:"Yemek",entertainment:"Eğlence",other:"Diğer",status:"Durum",members:"Üyeler",feed:"Akış",group:"Grup",sendMessage:"Mesaj gönder",typeMessage:"Mesaj yaz...",markAsPaid:"Ödendi Olarak İşaretle",edit:"Düzenle",deleteExpense:"Harcamayı Sil",paidBy:"Ödeyen",splitBetween:"Paylaşanlar",error:"Hata",success:"Başarılı",invalidAmount:"Geçersiz tutar",pleaseTryAgain:"Lütfen tekrar deneyin.",failedToLoad:"Yüklenemedi",paymentRecorded:"Ödeme kaydedildi",expenseAdded:"Harcama başarıyla eklendi",expenseUpdated:"Harcama başarıyla güncellendi",paymentMarked:"Ödeme işaretlendi",couldNotSave:"Ayarlar kaydedilemedi",justNow:"Şimdi",minutesAgo:"dk önce",hoursAgo:"sa önce",daysAgo:"gün önce",cancel:"İptal",close:"Kapat",delete:"Sil",update:"Güncelle",save:"Kaydet",email:"E-posta",password:"Şifre",signIn:"Giriş Yap",signUp:"Kayıt Ol",signOut:"Çıkış Yap",welcomeToKasa:"Kasa'ya Hoşgeldiniz",signInDesc:"Paylaşılan harcamalarınızı yönetmek için giriş yapın",createAccount:"Hesabınızı oluşturun",joinKasaDesc:"Arkadaşlarınızla harcama paylaşmak için Kasa'ya katılın",orContinueWith:"veya şununla devam et",dontHaveAccount:"Hesabınız yok mu?",alreadyHaveAccount:"Zaten hesabınız var mı?",loginWithGoogle:"Google ile giriş yap",signingIn:"Giriş yapılıyor...",connecting:"Bağlanılıyor...",creatingAccount:"Hesap oluşturuluyor...",fullName:"Ad Soyad",confirmPassword:"Şifreyi Onayla",enterPassword:"Şifrenizi girin",enterPasswordConfirm:"Şifrenizi tekrar girin",createStrongPassword:"Güçlü bir şifre oluşturun",googleSignInFailed:"Google ile giriş başarısız. Lütfen tekrar deneyin.",signInFailed:"Giriş başarısız. Lütfen bilgilerinizi kontrol edin.",passwordStrength:"Şifre gücü:",weak:"Zayıf",fair:"Orta",good:"İyi",strong:"Güçlü",atLeast8Chars:"En az 8 karakter",upperAndLowerCase:"Büyük ve küçük harfler",atLeastOneNumber:"En az bir rakam",passwordsDoNotMatch:"Şifreler eşleşmiyor",passwordTooWeak:"Şifre çok zayıf",invalidEmail:"Geçersiz e-posta adresi",emailRequired:"E-posta gereklidir",passwordRequired:"Şifre gereklidir",nameRequired:"Ad soyad gereklidir",profileUpdated:"Profil güncellendi",profileSaved:"Profiliniz kaydedildi.",couldNotSaveProfile:"Profil kaydedilemedi",totalSpent:"Toplam Harcama",balance:"Bakiye",appSettings:"Uygulama Ayarları",preferencesPermissions:"Tercihler ve izinler",ksExpenseApp:"Kasa Harcama Paylaşım Uygulaması",signOutConfirmTitle:"Çıkış Yap",signOutConfirmDesc:"Çıkış yapmak istediğinize emin misiniz? Gruplarınıza ve harcamalarınıza erişmek için tekrar giriş yapmanız gerekecek.",memberSince:"Üyelik tarihi",noName:"(İsimsiz)",paid:"ödedi",people:"kişi",hello:"Merhaba",expenseOverview:"Harcama özetiniz",invalidSplitAmount:"Geçersiz paylaşım tutarı",splitMismatch:"Paylaşım tutarları eşleşmiyor",inviteCodeGenerated:"Davet kodu oluşturuldu",copiedToClipboard:"Panoya kopyalandı",memberRemoved:"Üye çıkarıldı",ownershipTransferred:"Sahiplik devredildi",leftGroup:"Gruptan ayrıldı",transferOwnershipFirst:"Önce sahipliği devredin",paymentReceived:"Ödeme alındı",createFailed:"Oluşturma başarısız",joinFailed:"Katılma başarısız",invalidCode:"Geçersiz kod",inviteMissingGroup:"Davet grup bilgisi içermiyor",groupNotFound:"Grup bulunamadı",goBack:"Geri Dön",settlementRecorded:"Ödeme kaydedildi",memberJoined:"Üye katıldı",someone:"Biri",groupMembers:"Grup Üyeleri",owner:"Kurucu",transferOwnership:"Sahipliği Devret",removeMember:"Üyeyi Çıkar",generateInviteCode:"Davet Kodu Oluştur",generateInviteCodeDesc:"Başkalarıyla paylaşmak için kod oluşturun",leaveGroup:"Gruptan Ayrıl",leaveGroupDesc:"İstediğiniz zaman gruptan ayrılabilirsiniz.",leaveGroupOwnerDesc:"Grup kurucusunuz. Ayrılmadan önce sahipliği başkasına devretmelisiniz.",leaveGroupLastMemberDesc:"Son üyesiniz. Ayrılırsanız grup kalıcı olarak silinecek.",useMenuToTransfer:"Sahipliği devretmek için üyenin yanındaki ⋮ menüsünü kullanın.",myGroups:"Gruplarım",activeGroups:"aktif grup",activeTab:"Aktif",archivedTab:"Arşiv",unnamedGroup:"İsimsiz grup",noActiveGroups:"Aktif grup yok",createFirstGroup:"İlk Grubunu Oluştur",noArchivedGroups:"Arşivlenmiş grup yok",createGroupDesc:"Arkadaşlarınızla ve ailenizle harcamaları takip etmek için bir grup oluşturun.",loginRequired:"Giriş gerekli",loginRequiredDesc:"Gruba katılmak için lütfen giriş yapın.",enterCodeTitle:"Bir kod girin",enterCodeDesc:"Lütfen davet kodunu yapıştırın.",inviteDisabled:"Davet devre dışı",inviteDisabledDesc:"Bu davet kodu artık aktif değil.",genericErrorTitle:"Hata",genericErrorDesc:"Bir şeyler ters gitti. Lütfen tekrar deneyin.",joinedTitle:"Katıldınız!",joinedDesc:"Gruba katıldınız.",navHome:"Ana Sayfa",navGroups:"Gruplar",navProfile:"Profil",activityDetails:"Aktivite Detayları",amountLabel:"Tutar",userLabel:"Kullanıcı",groupLabel:"Grup",timeLabel:"Zaman",tabAll:"Tümü",tabExpenses:"Harcamalar",tabSettlements:"Hesaplaşmalar",showLess:"Daha Az Göster",viewAll:"Tümünü Gör",noActivityYet:"Henüz aktivite yok",noExpensesYet:"Henüz harcama yok",noSettlementsYet:"Henüz hesaplaşma yok",manageProfileInfo:"Profil bilgilerinizi yönetin",enableNotifications:"Uygulama bildirimlerini etkinleştir",camera:"Kamera",allowed:"İzin verildi",denied:"Reddedildi",photosMedia:"Fotoğraflar ve Medya",contacts:"Kişiler",termsOfService:"Kullanım Koşulları",readTerms:"Koşullarımızı okuyun",privacyPolicy:"Gizlilik Politikası",protectData:"Verilerinizi nasıl koruyoruz",licenses:"Lisanslar",openSourceLicenses:"Açık kaynak lisansları",faq:"SSS",frequentlyAsked:"Sıkça sorulan sorular",contactSupport:"Destek Ekibi",getHelp:"Ekibimizden yardım alın",reportProblem:"Sorun Bildir",letUsKnow:"Sorunlar hakkında bize bilgi verin",inviteFriends:"Arkadaşlarını Davet Et",shareKasa:"Kasa'yı başkalarıyla paylaş",rateUs:"Bizi Değerlendir",rateAppStore:"Bizi uygulama mağazasında değerlendirin",notificationsEnabled:"Bildirimler etkinleştirildi",notificationsDisabled:"Bildirimler devre dışı",willReceive:"Uygulama bildirimleri alacaksınız",wontReceive:"Uygulama bildirimleri almayacaksınız",currencyUpdated:"Para birimi güncellendi",currencySet:"Varsayılan para birimi şu şekilde ayarlandı:",languageUpdated:"Dil güncellendi",languageSet:"Dil şu şekilde ayarlandı:",themeUpdated:"Tema güncellendi",followingSystem:"Sistem görünümü takip ediliyor",switchedTo:"Şuna geçildi:",inviteLinkCopied:"Davet linki kopyalandı",shareLink:"Davet etmek için bu linki arkadaşlarınızla paylaşın",thankYou:"Teşekkürler!",redirecting:"Uygulama mağazasına yönlendiriliyor...",searchSettings:"Ayarlarda ara...",allRightsReserved:"Tüm hakları saklıdır",permission:"İzin",permissionAllows:"Bu izin, Kasa'nın şunlara erişmesine izin verir:",changeInSettings:"Bunu cihaz ayarlarınızdan değiştirebilirsiniz",gotIt:"Anladım",changesSaved:"Değişiklikler kaydedildi",failedToUpdate:"Harcama güncellenemedi. Lütfen tekrar deneyin.",failedToSend:"Mesaj gönderilemedi",failedToAdd:"Harcama eklenemedi",verificationSent:"Doğrulama e-postası gönderildi",checkEmail:"Hesabınızı doğrulamak için lütfen e-postanızı kontrol edin",emailNotVerified:"E-posta doğrulanmadı",resendVerification:"Doğrulama e-postasını tekrar gönder",forgotPassword:"Şifremi Unuttum?",resetPassword:"Şifreyi Sıfırla",resetEmailSent:"Şifre sıfırlama e-postası gönderildi",enterEmailForReset:"Şifrenizi sıfırlamak için e-postanızı girin",noInternet:"İnternet bağlantısı yok. Lütfen ağınızı kontrol edin.",unarchiveGroup:"Grubu Arşivden Çıkar",unarchiveSuccess:"Grup arşivden çıkarıldı",unarchiveConfirm:"Bu grubu arşivden çıkarmak istiyor musunuz?",unarchiveConfirmDesc:"Aktif sekmesine geri taşınacak."}},k=a=>a?.language==="tr"?"tr-TR":"en-US",l=(a,b)=>{let c=k(b),d=b?.currency??h.currency,e=Number.isFinite(a)?a:0;return new Intl.NumberFormat(c,{style:"currency",currency:d}).format(e/100)};function m({children:a}){let{toast:k}=(0,g.useToast)(),[m,n]=(0,c.useState)(h),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(null),s=(0,c.useRef)(null),t=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=()=>{let a=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===m.theme||"system"===m.theme&&a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(a(),"system"===m.theme){let b=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>a();return b.addEventListener("change",c),()=>b.removeEventListener("change",c)}},[m.theme]),(0,c.useEffect)(()=>{let a=(0,d.onAuthStateChanged)(f.auth,a=>{if(t.current){try{t.current()}catch{}t.current=null}if(!a){r(null),n(h),p(!1);return}r(a.uid);let b=(0,e.doc)(f.db,"users",a.uid);t.current=(0,e.onSnapshot)(b,a=>{let b=a.data();n({...h,..."object"==typeof b?.settings?b.settings:{}}),p(!1)},a=>{console.error("Failed to load settings:",a),n(h),p(!1)})},a=>{console.error("Auth state error:",a),p(!1)});return()=>{if(a(),t.current)try{t.current()}catch{}s.current&&clearTimeout(s.current)}},[]);let u=a=>{n(b=>{let c={...b,...a};return q&&(s.current&&clearTimeout(s.current),s.current=setTimeout(async()=>{try{await (0,e.setDoc)((0,e.doc)(f.db,"users",q),{settings:c,updatedAt:(0,e.serverTimestamp)()},{merge:!0})}catch(a){console.error("Failed to persist settings:",a),k({variant:"destructive",title:"Could not save settings",description:"Please try again."})}},250)),c})},v=(0,c.useMemo)(()=>a=>l(a,m),[m]),w=(0,c.useMemo)(()=>{let a=m.language||"en";return b=>j[a]?.[b]||j.en?.[b]||b},[m.language]);return(0,b.jsx)(i.Provider,{value:{settings:m,loading:o,setTheme:a=>u({theme:a}),setCurrency:a=>u({currency:a}),setLanguage:a=>u({language:a}),setNotificationsEnabled:a=>u({notificationsEnabled:a}),formatMoney:v,t:w},children:a})}function n(){let a=(0,c.useContext)(i);if(!a)throw Error("useSettings must be used within a SettingsProvider");return a}a.s(["SettingsProvider",()=>m,"formatMoneyHelper",0,l,"getLocale",0,k,"useSettings",()=>n])}];

//# sourceMappingURL=lib_settings-context_tsx_760399a6._.js.map