module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(54161),h=a.i(50463),i=a.i(21958),j=a.i(65733),k=a.i(5522),l=a.i(17171),m=a.i(77687),n=a.i(7706),o=a.i(18740),p=a.i(1907);a.i(69387);var q=a.i(60574),r=a.i(15618),s=a.i(90166),t=a.i(60246),u=a.i(70106);let v=(0,u.default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),w=(0,u.default)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var x=a.i(16201);let y=(0,u.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var z=a.i(79257),A=a.i(24669),B=a.i(53277),C=a.i(81010),D=a.i(56738),E=a.i(46842),F=a.i(4699),F=F,G=a.i(98091),G=G,H=a.i(50522),I=a.i(60625);function J(){let a=(0,d.useRouter)(),{toast:u}=(0,m.useToast)(),{photoURL:J,displayName:K,email:L}=(0,p.useUserProfile)(),{formatMoney:M,t:N}=(0,I.useSettings)(),[O,P]=(0,c.useState)(!0),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(0),[U,V]=(0,c.useState)([]),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)(""),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(null),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(0),[ao,ap]=(0,c.useState)(0),aq=ao-am,[ar,as]=(0,c.useState)(!1);(0,c.useEffect)(()=>{as(!0)},[]),(0,c.useEffect)(()=>{let b=null,c=[],d=()=>{c.forEach(a=>{try{a()}catch{}}),c=[]};P(!0);let e=o.auth.onAuthStateChanged(e=>{if(b){try{b()}catch{}b=null}if(d(),!e){R(""),T(0),V([]),P(!1),a.push("/login");return}R(e.displayName||e.email||"");let f=(0,q.query)((0,q.collection)(o.db,"groups"),(0,q.where)("memberIds","array-contains",e.uid)),g={},h=[],i=()=>{let a=[...h,...Object.values(g).flat()];a.sort((a,b)=>b.timestamp.getTime()-a.timestamp.getTime()),V(a)};b=(0,q.onSnapshot)(f,a=>{d();let b=a.docs.map(a=>({id:a.id,...a.data()}));T(b.length);let f=0,j=0;for(let a of b){let b=a?.balances,c=b&&"object"==typeof b?b[e.uid]:void 0;"number"==typeof c&&(c>0?f+=c:c<0&&(j+=Math.abs(c)))}for(let a of(ap(f),an(j),Object.keys(g)))delete g[a];if(h.length=0,0===b.length){V([]),P(!1);return}for(let a of b)a?.createdAt&&h.push({id:`group-${a.id}`,type:"group",title:N("groupCreated"),timestamp:au(a.createdAt),user:{name:a?.createdByName||N("someone")},groupName:a?.name||N("groupLabel"),isPositive:!0});for(let a of b){let b=a?.name||N("groupLabel"),d=(0,q.query)((0,q.collection)(o.db,"groups",a.id,"feed"),(0,q.orderBy)("createdAt","desc"),(0,q.limit)(25)),e=(0,q.onSnapshot)(d,c=>{g[a.id]=c.docs.map(a=>av(b,a.id,a.data())),i(),P(!1)},b=>{console.error("Failed to fetch feed:",b),g[a.id]=[],i(),P(!1)});c.push(e)}i(),P(!1)},a=>{console.error("Failed to fetch groups:",a),T(0),V([]),P(!1)})});return()=>{try{e()}catch{}if(b)try{b()}catch{}d()}},[a]);let at=a=>{let b=new Date().getTime()-a.getTime(),c=Math.floor(b/6e4),d=Math.floor(b/36e5),e=Math.floor(b/864e5);return c<60?`${c}m ago`:d<24?`${d}h ago`:e<7?`${e}d ago`:a.toLocaleDateString()},au=a=>a?a instanceof Date?a:"function"==typeof a?.toDate?a.toDate():new Date("number"==typeof a?.seconds?1e3*a.seconds:a):new Date,av=(a,b,c)=>{let d=c?.type,e="expense"===d||"settlement"===d||"join"===d?d:"expense",f={"Payment received":"paymentReceived","Member joined":"memberJoined","Group created":"groupCreated","Expense added":"expenseAdded","Settlement recorded":"settlementRecorded"},g=c?.title||c?.text||c?.message||c?.description,h=g?f[g]?N(f[g]):N(g)||g:"expense"===e?N("expenseAdded"):"settlement"===e?N("settlementRecorded"):N("memberJoined"),i="number"==typeof c?.amount?c.amount:"number"==typeof c?.amountCents?c.amountCents:void 0,j=o.auth.currentUser?.uid,k=c?.createdByName||c?.userName||c?.user?.name||(c?.createdBy&&j&&c.createdBy===j?Q||N("You"):N("someone")),l="settlement"===e?!!c?.isPositive:void 0;return{id:b,type:e,title:h,amount:i,timestamp:au(c?.createdAt||c?.timestamp),user:{name:k},groupName:a,isPositive:l}},aw=async()=>{let b=o.auth.currentUser;if(!b)return void a.push("/login");let c=ac.trim();if(!c)return void u({title:N("invalidInput"),description:N("enterGroupNameError"),variant:"destructive"});if(!$){_(!0);try{let d=(0,q.collection)(o.db,"groups"),e=(0,q.doc)(d);await (0,q.runTransaction)(o.db,async a=>{a.set(e,{name:c,createdBy:b.uid,createdByName:b.displayName||b.email||"",createdAt:(0,q.serverTimestamp)(),memberIds:[b.uid],balances:{[b.uid]:0},totalAmount:0})});try{let a=(0,q.doc)((0,q.collection)(o.db,"groups",e.id,"feed"));await (0,q.runTransaction)(o.db,async c=>{c.set(a,{type:"group",title:"groupCreated",createdAt:(0,q.serverTimestamp)(),createdBy:b.uid,createdByName:b.displayName||b.email||"",groupId:e.id})})}catch(a){console.warn("Failed to write group creation feed item:",a)}u({title:N("groupCreated"),description:`${c} ${N("groupCreatedDesc")}`}),X(!1),ad(""),a.push("/groups")}catch(a){console.error("Failed to create group:",a),u({title:N("createFailed"),description:a?.message||N("pleaseTryAgain"),variant:"destructive"})}finally{_(!1)}}},ax=async()=>{let b=o.auth.currentUser;if(!b)return void a.push("/login");let c=ae.trim().toUpperCase();if(!c)return void u({title:N("invalidInput"),description:N("enterInviteCodeError"),variant:"destructive"});if(!aa){ab(!0);try{let d=(0,q.doc)(o.db,"groupInvites",c),e=await (0,q.getDoc)(d);if(!e.exists())return void u({title:N("invalidCode"),description:N("pleaseTryAgain"),variant:"destructive"});let f=e.data(),g=f?.groupId;if(!g||"string"!=typeof g)return void u({title:N("invalidCode"),description:N("inviteMissingGroup"),variant:"destructive"});let h=(0,q.doc)(o.db,"groups",g);await (0,q.runTransaction)(o.db,async a=>{let c=await a.get(h);if(!c.exists())throw Error("Group not found");let d=c.data(),e=Array.isArray(d?.memberIds)?d.memberIds:[];if(e.includes(b.uid))return;let f=[...e,b.uid],i={...d?.balances||{}};"number"!=typeof i[b.uid]&&(i[b.uid]=0),a.update(h,{memberIds:f,balances:i});let j=(0,q.doc)((0,q.collection)(o.db,"groups",g,"feed"));a.set(j,{type:"join",title:"memberJoined",createdAt:(0,q.serverTimestamp)(),createdBy:b.uid,createdByName:b.displayName||b.email||""})}),u({title:N("joinedGroup"),description:N("joinedGroupDesc")}),Z(!1),af(""),a.push("/groups")}catch(a){console.error("Failed to join group:",a),u({title:N("joinFailed"),description:a?.message||N("pleaseTryAgain"),variant:"destructive"})}finally{ab(!1)}}},ay=a=>a&&"all"!==a?U.filter(b=>b.type===a):U,az=a=>ag?a:a.slice(0,6),aA=a=>(0,b.jsxs)(f.Card,{className:"h-full p-4 hover:bg-accent/50 hover:shadow-md active:scale-[0.98] transition-all duration-200 cursor-pointer flex flex-col gap-2 group",onClick:()=>{aj(a),al(!0)},children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsx)("div",{className:`rounded-full ${(()=>{switch(a.type){case"group":return"bg-slate-100 dark:bg-slate-950/30";case"expense":return"bg-purple-100 dark:bg-purple-950/30";case"settlement":return a.isPositive?"bg-green-100 dark:bg-green-950/30":"bg-orange-100 dark:bg-orange-950/30";case"join":return"bg-blue-100 dark:bg-blue-950/30"}})()} h-7 w-7 flex items-center justify-center shrink-0 ${"group"===a.type?"text-slate-600 dark:text-slate-400":"join"===a.type?"text-blue-600 dark:text-blue-400":"settlement"===a.type?a.isPositive?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400":"text-purple-600 dark:text-purple-400"}`,children:(0,b.jsx)("div",{className:"h-[18px] w-[18px] flex items-center justify-center",children:(()=>{switch(a.type){case"group":return(0,b.jsx)(t.Users,{className:"h-4.5 w-4.5"});case"expense":return(0,b.jsx)(s.DollarSign,{className:"h-4.5 w-4.5"});case"settlement":return(0,b.jsx)(x.CheckCircle,{className:"h-4.5 w-4.5"});case"join":return(0,b.jsx)(y,{className:"h-4.5 w-4.5"})}})()})}),(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground leading-none whitespace-nowrap",suppressHydrationWarning:!0,children:ar?at(a.timestamp):""})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col justify-between gap-2",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-sm truncate leading-snug",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed mt-1",children:[a.user.name,a.groupName&&` â€¢ ${a.groupName}`]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[a.amount&&(0,b.jsxs)(g.Badge,{variant:a.isPositive?"default":"secondary",className:`shrink-0 whitespace-nowrap text-xs px-2.5 py-1 h-6 transition-colors duration-200 ${a.isPositive?"bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-950/50 dark:text-green-400":"bg-red-50 text-red-700 hover:bg-red-100 dark:bg-red-950/50 dark:text-red-400"}`,children:[a.isPositive?"+":"-",M(a.amount)]}),(0,b.jsx)(H.ChevronRight,{className:"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity duration-200 ml-auto"})]})]})]},a.id);return O?(0,b.jsx)("div",{className:"min-h-screen bg-background p-3 sm:p-6 pb-20",children:(0,b.jsxs)("div",{className:"mx-auto max-w-4xl space-y-4 sm:space-y-6",children:[(0,b.jsx)(h.Skeleton,{className:"h-8 w-48"}),(0,b.jsxs)("div",{className:"grid gap-3 sm:gap-4 sm:grid-cols-2",children:[(0,b.jsx)(h.Skeleton,{className:"h-24"}),(0,b.jsx)(h.Skeleton,{className:"h-24"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(h.Skeleton,{className:"h-32"}),(0,b.jsx)(h.Skeleton,{className:"h-32"}),(0,b.jsx)(h.Skeleton,{className:"h-32"}),(0,b.jsx)(h.Skeleton,{className:"h-32"})]})]})}):0===S?(0,b.jsxs)("div",{className:"min-h-screen bg-background p-3 sm:p-6 pb-20",children:[(0,b.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,b.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,b.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold",children:[N("hello"),", ",Q]}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:N("welcomeToKasa")})]}),(0,b.jsx)(f.Card,{className:"p-8 sm:p-12 text-center",children:(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-muted flex items-center justify-center",children:(0,b.jsx)(t.Users,{className:"h-8 w-8 sm:h-10 sm:w-10 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:N("noGroupsYet")}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:N("noGroupsDesc")})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[(0,b.jsxs)(j.Dialog,{open:W,onOpenChange:X,children:[(0,b.jsx)(j.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{className:"flex-1 h-11 sm:h-10",onClick:()=>X(!0),children:[(0,b.jsx)(r.Plus,{className:"mr-2 h-4 w-4"}),N("createNewGroup")]})}),(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsx)(j.DialogHeader,{children:(0,b.jsx)(j.DialogTitle,{children:N("createNewGroup")})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"group-name",children:N("groupName")}),(0,b.jsx)(k.Input,{id:"group-name",placeholder:N("enterGroupName"),value:ac,onChange:a=>ad(a.target.value),className:"mt-2"})]}),(0,b.jsx)(e.Button,{onClick:aw,className:"w-full",disabled:$,children:$?N("adding"):N("createNewGroup")})]})]})]}),(0,b.jsxs)(j.Dialog,{open:Y,onOpenChange:Z,children:[(0,b.jsx)(j.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",className:"flex-1 h-11 sm:h-10 bg-transparent",onClick:()=>Z(!0),children:[(0,b.jsx)(z.Link,{className:"mr-2 h-4 w-4"}),N("joinViaCode")]})}),(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsx)(j.DialogHeader,{children:(0,b.jsx)(j.DialogTitle,{children:N("joinGroup")})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{htmlFor:"join-code",children:N("inviteCode")}),(0,b.jsx)(k.Input,{id:"join-code",placeholder:N("enterInviteCode"),value:ae,onChange:a=>af(a.target.value),className:"mt-2 uppercase"})]}),(0,b.jsx)(e.Button,{onClick:ax,className:"w-full",disabled:aa,children:aa?N("adding"):N("joinGroup")})]})]})]})]})]})})]}),(0,b.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-card border-t border-border z-50",children:(0,b.jsx)("div",{className:"mx-auto max-w-4xl px-6 py-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-around",children:[(0,b.jsx)("button",{onClick:()=>a.push("/groups"),className:"flex flex-col items-center gap-1 p-2 rounded-lg transition-colors hover:bg-accent","aria-label":N("navGroups"),children:(0,b.jsx)(D.Wallet,{className:"h-6 w-6 text-muted-foreground"})}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"flex flex-col items-center gap-1 p-2 rounded-lg transition-colors","aria-label":N("navHome"),children:(0,b.jsx)(C.Home,{className:"h-6 w-6 text-green-600"})}),(0,b.jsx)("button",{onClick:()=>a.push("/profile"),className:"flex flex-col items-center gap-1 p-2 rounded-lg transition-colors hover:bg-accent","aria-label":N("navProfile"),children:(0,b.jsx)(E.User,{className:"h-6 w-6 text-muted-foreground"})})]})})})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-background pb-20",children:[(0,b.jsx)("div",{className:"border-b bg-card",children:(0,b.jsxs)("div",{className:"mx-auto max-w-4xl p-3 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-xl sm:text-2xl font-bold",children:[N("hello"),", ",Q]}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:N("expenseOverview")})]}),(0,b.jsxs)(n.Avatar,{className:"h-9 w-9 sm:h-10 sm:w-10 shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>a.push("/profile"),children:[J?(0,b.jsx)(n.AvatarImage,{src:J,alt:K||L||N("navProfile")}):null,(0,b.jsx)(n.AvatarFallback,{className:"bg-primary text-primary-foreground font-semibold text-sm",children:(K||L||"K")[0]?.toUpperCase?.()||"?"})]})]}),(0,b.jsx)("div",{className:"sm:hidden",children:(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,b.jsx)(f.Card,{className:"p-2 rounded-md flex flex-col items-center justify-center text-center min-h-0",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center leading-tight",children:[(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground mb-0.5",children:N("youOwe")}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)("span",{className:"text-[13px] font-semibold text-red-600",children:M(am)}),(0,b.jsx)("span",{className:"rounded-full bg-red-100 dark:bg-red-950/20 p-0.5",children:(0,b.jsx)(B.TrendingDown,{className:"h-3 w-3 text-red-600"})})]})]})}),(0,b.jsx)(f.Card,{className:"p-2 rounded-md flex flex-col items-center justify-center text-center min-h-0",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center leading-tight",children:[(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground mb-0.5",children:N("youreOwed")}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)("span",{className:"text-[13px] font-semibold text-green-600",children:M(ao)}),(0,b.jsx)("span",{className:"rounded-full bg-green-100 dark:bg-green-950/20 p-0.5",children:(0,b.jsx)(A.TrendingUp,{className:"h-3 w-3 text-green-600"})})]})]})}),(0,b.jsx)(f.Card,{className:"p-2 rounded-md flex flex-col items-center justify-center text-center min-h-0 bg-muted/50",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center leading-tight",children:[(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground mb-0.5",children:N("netBalance")}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsxs)("span",{className:`text-[13px] font-semibold ${aq>=0?"text-green-600":"text-red-600"}`,children:[aq>=0?"+":"",M(Math.abs(aq))]}),(0,b.jsx)("span",{className:`rounded-full p-0.5 ${aq>=0?"bg-green-100 dark:bg-green-950/20":"bg-red-100 dark:bg-red-950/20"}`,children:aq>=0?(0,b.jsx)(v,{className:"h-3 w-3 text-green-600"}):(0,b.jsx)(w,{className:"h-3 w-3 text-red-600"})})]})]})})]})}),(0,b.jsxs)("div",{className:"hidden sm:grid sm:grid-cols-2 sm:gap-3",children:[(0,b.jsx)(f.Card,{className:"p-1.5 sm:p-2 md:p-3 rounded-md",children:(0,b.jsxs)("div",{className:"leading-[1.05]",children:[(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground",children:N("youOwe")}),(0,b.jsxs)("div",{className:"mt-0.5 inline-flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"text-[13px] sm:text-sm md:text-xl font-bold text-red-600",children:M(am)}),(0,b.jsx)("span",{className:"rounded-full bg-red-100 dark:bg-red-950/20 p-0.5 sm:p-1 md:p-1.5",children:(0,b.jsx)(B.TrendingDown,{className:"h-3.5 w-3.5 md:h-5 md:w-5 text-red-600"})})]})]})}),(0,b.jsx)(f.Card,{className:"p-1.5 sm:p-2 md:p-3 rounded-md",children:(0,b.jsxs)("div",{className:"leading-[1.05]",children:[(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground",children:N("youreOwed")}),(0,b.jsxs)("div",{className:"mt-0.5 inline-flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"text-[13px] sm:text-sm md:text-xl font-bold text-green-600",children:M(ao)}),(0,b.jsx)("span",{className:"rounded-full bg-green-100 dark:bg-green-950/20 p-0.5 sm:p-1 md:p-1.5",children:(0,b.jsx)(A.TrendingUp,{className:"h-3.5 w-3.5 md:h-5 md:w-5 text-green-600"})})]})]})})]}),(0,b.jsx)(f.Card,{className:"hidden sm:flex mt-1.5 md:mt-3 p-1.5 sm:p-2 md:p-3 bg-muted/50 rounded-md",children:(0,b.jsxs)("div",{className:"leading-[1.05] w-full",children:[(0,b.jsx)("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:N("netBalance")}),(0,b.jsxs)("div",{className:"mt-0.5 inline-flex items-center gap-1.5",children:[(0,b.jsxs)("span",{className:`text-[13px] md:text-xl font-bold ${aq>=0?"text-green-600":"text-red-600"}`,children:[aq>=0?"+":"",M(Math.abs(aq))]}),(0,b.jsx)("span",{className:`rounded-full p-0.5 sm:p-1 md:p-1.5 ${aq>=0?"bg-green-100 dark:bg-green-950/20":"bg-red-100 dark:bg-red-950/20"}`,children:aq>=0?(0,b.jsx)(v,{className:"h-3.5 w-3.5 md:h-5 md:w-5 text-green-600"}):(0,b.jsx)(w,{className:"h-3.5 w-3.5 md:h-5 md:w-5 text-red-600"})})]})]})})]})}),(0,b.jsx)("div",{className:"mx-auto max-w-4xl p-3 sm:p-6",children:(0,b.jsxs)(i.Tabs,{defaultValue:"all",className:"w-full",children:[(0,b.jsxs)(i.TabsList,{className:"w-full sm:w-auto mb-3 sm:mb-4",children:[(0,b.jsx)(i.TabsTrigger,{value:"all",className:"flex-1 sm:flex-none",children:N("tabAll")}),(0,b.jsx)(i.TabsTrigger,{value:"expense",className:"flex-1 sm:flex-none",children:N("tabExpenses")}),(0,b.jsx)(i.TabsTrigger,{value:"settlement",className:"flex-1 sm:flex-none",children:N("tabSettlements")})]}),(0,b.jsxs)(i.TabsContent,{value:"all",className:"space-y-3",children:[az(ay("all")).length>0?(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:az(ay("all")).map(aA)}):(0,b.jsx)(f.Card,{className:"p-8 text-center col-span-2",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:N("noActivityYet")})}),ay("all").length>6&&(0,b.jsx)("div",{className:"flex justify-center pt-2",children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>ah(!ag),className:"gap-2",children:ag?(0,b.jsxs)(b.Fragment,{children:[N("showLess"),(0,b.jsx)(G.default,{className:"h-4 w-4"})]}):(0,b.jsxs)(b.Fragment,{children:[N("viewAll")," (",ay("all").length,")",(0,b.jsx)(F.default,{className:"h-4 w-4"})]})})})]}),(0,b.jsxs)(i.TabsContent,{value:"expense",className:"space-y-3",children:[(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:az(ay("expense")).length>0?az(ay("expense")).map(aA):(0,b.jsx)(f.Card,{className:"p-8 text-center col-span-2",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:N("noExpensesYet")})})}),ay("expense").length>6&&(0,b.jsx)("div",{className:"flex justify-center pt-2",children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>ah(!ag),className:"gap-2",children:ag?(0,b.jsxs)(b.Fragment,{children:[N("showLess"),(0,b.jsx)(G.default,{className:"h-4 w-4"})]}):(0,b.jsxs)(b.Fragment,{children:[N("viewAll")," (",ay("expense").length,")",(0,b.jsx)(F.default,{className:"h-4 w-4"})]})})})]}),(0,b.jsxs)(i.TabsContent,{value:"settlement",className:"space-y-3",children:[(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:az(ay("settlement")).length>0?az(ay("settlement")).map(aA):(0,b.jsx)(f.Card,{className:"p-8 text-center col-span-2",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:N("noSettlementsYet")})})}),ay("settlement").length>6&&(0,b.jsx)("div",{className:"flex justify-center pt-2",children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>ah(!ag),className:"gap-2",children:ag?(0,b.jsxs)(b.Fragment,{children:[N("showLess"),(0,b.jsx)(G.default,{className:"h-4 w-4"})]}):(0,b.jsxs)(b.Fragment,{children:[N("viewAll")," (",ay("settlement").length,")",(0,b.jsx)(F.default,{className:"h-4 w-4"})]})})})]})]})}),(0,b.jsx)(j.Dialog,{open:ak,onOpenChange:al,children:(0,b.jsxs)(j.DialogContent,{className:"sm:max-w-md animate-in fade-in-0 zoom-in-95 duration-200",children:[(0,b.jsx)(j.DialogHeader,{children:(0,b.jsx)(j.DialogTitle,{children:N("activityDetails")})}),ai&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`rounded-full p-3 ${"expense"===ai.type?"bg-purple-100 dark:bg-purple-950/30 text-purple-600 dark:text-purple-400":"settlement"===ai.type?ai.isPositive?"bg-green-100 dark:bg-green-950/30 text-green-600 dark:text-green-400":"bg-orange-100 dark:bg-orange-950/30 text-orange-600 dark:text-orange-400":"bg-blue-100 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400"}`,children:"expense"===ai.type?(0,b.jsx)(s.DollarSign,{className:"h-6 w-6"}):"settlement"===ai.type?(0,b.jsx)(x.CheckCircle,{className:"h-6 w-6"}):"group"===ai.type?(0,b.jsx)(t.Users,{className:"h-6 w-6"}):(0,b.jsx)(y,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:ai.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:ai.type})]})]}),(0,b.jsxs)("div",{className:"space-y-3 pt-2",children:[ai.amount&&(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:N("amountLabel")}),(0,b.jsxs)(g.Badge,{variant:ai.isPositive?"default":"secondary",className:`text-base px-3 py-1 ${ai.isPositive?"bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-950/50 dark:text-green-400":"bg-red-50 text-red-700 hover:bg-red-100 dark:bg-red-950/50 dark:text-red-400"}`,children:[ai.isPositive?"+":"-",M(ai.amount)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:N("userLabel")}),(0,b.jsx)("span",{className:"font-medium",children:ai.user.name})]}),ai.groupName&&(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:N("groupLabel")}),(0,b.jsx)("span",{className:"font-medium",children:ai.groupName})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:N("timeLabel")}),(0,b.jsx)("span",{className:"font-medium",children:at(ai.timestamp)})]})]})]})]})}),(0,b.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-card/80 backdrop-blur-lg border-t border-border z-50",children:(0,b.jsx)("div",{className:"mx-auto max-w-4xl px-6 py-2.5",children:(0,b.jsxs)("div",{className:"flex items-center justify-around",children:[(0,b.jsxs)("button",{onClick:()=>a.push("/groups"),className:"flex flex-col items-center gap-1 p-2 rounded-lg transition-colors hover:bg-accent","aria-label":N("navGroups"),children:[(0,b.jsx)(D.Wallet,{className:"h-6 w-6 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-[11px] text-muted-foreground",children:N("navGroups")})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/"),className:"flex flex-col items-center gap-1 p-2 px-4 rounded-full transition-colors bg-green-100 dark:bg-green-950/30","aria-label":N("navHome"),children:[(0,b.jsx)(C.Home,{className:"h-6 w-6 text-green-600"}),(0,b.jsx)("span",{className:"text-[11px] text-green-600 font-medium",children:N("navHome")})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/profile"),className:"flex flex-col items-center gap-1 p-2 rounded-lg transition-colors hover:bg-accent","aria-label":N("navProfile"),children:[(0,b.jsx)(E.User,{className:"h-6 w-6 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-[11px] text-muted-foreground",children:N("navProfile")})]})]})})})]})}a.s(["default",()=>J],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map