(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17995,e=>{"use strict";var a=e.i(43476),r=e.i(71645);e.i(51718);var t=e.i(18357);e.i(36180);var i=e.i(98925),n=e.i(76009),o=e.i(20682);let s={theme:"light",currency:"TRY",language:"en",notificationsEnabled:!0},l=(0,r.createContext)(void 0),d={en:{settings:"Settings",general:"General",profile:"Profile",currency:"Currency",language:"Language",notifications:"Notifications",theme:"Theme",system:"System",light:"Light",dark:"Dark",permissions:"Permissions",help:"Help",legal:"Legal",inviteRate:"Invite & Rate Us",selectCurrency:"Select Currency",selectLanguage:"Select Language",selectTheme:"Select Theme",groupsTitle:"Groups",createNewGroup:"Create New Group",joinGroup:"Join Group",joinViaCode:"Join via Code",groupName:"Group Name",enterGroupName:"Weekend Trip, Apartment, etc.",inviteCode:"Invite Code",enterInviteCode:"Enter invite code",noGroupsYet:"No groups yet",noGroupsDesc:"Create a new group or join an existing one to start tracking expenses with friends and family.",membersCount:"members",totalExpenses:"Total expenses",groupCreated:"Group created",groupCreatedDesc:"has been created successfully",joinedGroup:"Joined group",joinedGroupDesc:"You've successfully joined the group",invalidInput:"Invalid input",enterGroupNameError:"Please enter a group name",enterInviteCodeError:"Please enter an invite code",creating:"Creating...",joining:"Joining...",enterGroupNamePlaceholder:"Weekend Trip, Apartment 4B, etc.",enterInviteCodePlaceholder:"Enter the group invite code",inviteNotFound:"This invite code was not found",inviteMissingInfo:"Invite is missing group information",couldNotJoin:"Could not join the group",couldNotCreate:"Could not create the group",groupBalance:"Group Balance",netBalance:"Net Balance",youOwe:"You owe",youreOwed:"You're owed",allSettled:"All Settled!",noOutstandingDebts:"No outstanding debts",debts:"Debts",owes:"owes",you:"you",You:"You",recordPayment:"Record Payment",trackPayments:"Track received payments",member:"Member",selectMember:"Select member",amount:"Amount",paymentType:"Payment Type",full:"Full",custom:"Custom",partial:"Partial",enterAmount:"Enter amount",recording:"Recording...",addExpense:"Add Expense",description:"Description",groceriesEtc:"Groceries, dinner, etc.",category:"Category (optional)",selectCategory:"Select a category",enterCustomCategory:"Enter custom category",splitWith:"Split with",adding:"Adding...",saving:"Saving...",saveChanges:"Save Changes",expenseDetails:"Expense Details",electricity:"Electricity",water:"Water",groceries:"Groceries/Market",internet:"Internet",rent:"Rent",transport:"Transport",dining:"Dining",entertainment:"Entertainment",other:"Other",status:"Status",members:"Members",feed:"Feed",group:"Group",sendMessage:"Send a message",typeMessage:"Type a message...",markAsPaid:"Mark as Paid",edit:"Edit",deleteExpense:"Delete Expense",paidBy:"Paid by",splitBetween:"Split between",error:"Error",success:"Success",invalidAmount:"Invalid amount",pleaseTryAgain:"Please try again.",failedToLoad:"Failed to load",paymentRecorded:"Payment recorded",expenseAdded:"Expense added successfully",expenseUpdated:"Expense updated successfully",paymentMarked:"Payment marked",couldNotSave:"Could not save settings",goBack:"Go Back",settlementRecorded:"Settlement recorded",memberJoined:"Member joined",someone:"Someone",groupMembers:"Group Members",owner:"Owner",transferOwnership:"Transfer Ownership",removeMember:"Remove Member",generateInviteCode:"Generate Invite Code",generateInviteCodeDesc:"Generate a code to share with others",leaveGroup:"Leave Group",leaveGroupDesc:"You can leave this group anytime.",leaveGroupOwnerDesc:"You're the group owner. Transfer ownership to someone else before leaving.",leaveGroupLastMemberDesc:"You're the last member. Leaving will permanently delete this group.",useMenuToTransfer:"Use the ⋮ menu next to a member to transfer ownership.",justNow:"Just now",minutesAgo:"m ago",hoursAgo:"h ago",daysAgo:"d ago",cancel:"Cancel",close:"Close",delete:"Delete",update:"Update",save:"Save",email:"Email",password:"Password",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",welcomeToKasa:"Welcome to Kasa",signInDesc:"Sign in to manage your shared expenses",createAccount:"Create your account",joinKasaDesc:"Join Kasa to start sharing expenses with friends",orContinueWith:"Or continue with",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",loginWithGoogle:"Login with Google",signingIn:"Signing in...",connecting:"Connecting...",creatingAccount:"Creating account...",fullName:"Full Name",confirmPassword:"Confirm Password",enterPassword:"Enter your password",enterPasswordConfirm:"Re-enter your password",createStrongPassword:"Create a strong password",googleSignInFailed:"Google sign-in failed. Please try again.",signInFailed:"Sign in failed. Please check your credentials.",passwordStrength:"Password strength:",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",atLeast8Chars:"At least 8 characters",upperAndLowerCase:"Upper and lowercase letters",atLeastOneNumber:"At least one number",passwordsDoNotMatch:"Passwords do not match",passwordTooWeak:"Password is too weak",invalidEmail:"Invalid email address",emailRequired:"Email is required",passwordRequired:"Password is required",nameRequired:"Full name is required",profileUpdated:"Profile updated",profileSaved:"Your profile has been saved.",couldNotSaveProfile:"Could not save profile",totalSpent:"Total Spent",balance:"Balance",appSettings:"App Settings",preferencesPermissions:"Preferences and permissions",ksExpenseApp:"Kasa Expense Sharing App",signOutConfirmTitle:"Sign Out",signOutConfirmDesc:"Are you sure you want to sign out? You'll need to sign in again to access your groups and expenses.",memberSince:"Member since",noName:"(No name)",paid:"paid",people:"people",hello:"Hello",expenseOverview:"Here's your expense overview",invalidSplitAmount:"Invalid split amount",splitMismatch:"Split amounts don't match",inviteCodeGenerated:"Invite code generated",copiedToClipboard:"Copied to clipboard",memberRemoved:"Member removed",ownershipTransferred:"Ownership transferred",leftGroup:"Left group",transferOwnershipFirst:"Transfer ownership first",paymentReceived:"Payment received",createFailed:"Create failed",joinFailed:"Join failed",invalidCode:"Invalid code",inviteMissingGroup:"Invite is missing group information",groupNotFound:"Group not found",myGroups:"My Groups",activeGroups:"active groups",activeTab:"Active",archivedTab:"Archived",unnamedGroup:"Unnamed group",noActiveGroups:"No active groups",createFirstGroup:"Create Your First Group",noArchivedGroups:"No archived groups",createGroupDesc:"Create a group to start tracking expenses with friends and family.",loginRequired:"Login required",loginRequiredDesc:"Please sign in to join a group.",enterCodeTitle:"Enter a code",enterCodeDesc:"Please paste the invite code.",inviteDisabled:"Invite disabled",inviteDisabledDesc:"This invite code is no longer active.",genericErrorTitle:"Error",genericErrorDesc:"Something went wrong. Please try again.",joinedTitle:"Joined!",joinedDesc:"You have joined the group.",navHome:"Home",navGroups:"Groups",navProfile:"Profile",activityDetails:"Activity Details",amountLabel:"Amount",userLabel:"User",groupLabel:"Group",timeLabel:"Time",tabAll:"All",tabExpenses:"Expenses",tabSettlements:"Settlements",showLess:"Show Less",viewAll:"View All",noActivityYet:"No activity yet",noExpensesYet:"No expenses yet",noSettlementsYet:"No settlements yet",manageProfileInfo:"Manage your profile information",enableNotifications:"Enable app notifications",camera:"Camera",allowed:"Allowed",denied:"Denied",photosMedia:"Photos & Media",contacts:"Contacts",termsOfService:"Terms of Service",readTerms:"Read our terms",privacyPolicy:"Privacy Policy",protectData:"How we protect your data",licenses:"Licenses",openSourceLicenses:"Open source licenses",faq:"FAQ",frequentlyAsked:"Frequently asked questions",contactSupport:"Contact Support",getHelp:"Get help from our team",reportProblem:"Report a Problem",letUsKnow:"Let us know about issues",inviteFriends:"Invite Friends",shareKasa:"Share Kasa with others",rateUs:"Rate Us",rateAppStore:"Rate us on the app store",notificationsEnabled:"Notifications enabled",notificationsDisabled:"Notifications disabled",willReceive:"You will receive app notifications",wontReceive:"You won't receive app notifications",currencyUpdated:"Currency updated",currencySet:"Default currency set to",languageUpdated:"Language updated",languageSet:"Language set to",themeUpdated:"Theme updated",followingSystem:"Following system appearance",switchedTo:"Switched to",inviteLinkCopied:"Invite link copied",shareLink:"Share this link with your friends to invite them",thankYou:"Thank you!",redirecting:"Redirecting to app store...",searchSettings:"Search settings...",allRightsReserved:"All rights reserved",permission:"Permission",permissionAllows:"This permission allows Kasa to access your",changeInSettings:"You can change this in your device settings",gotIt:"Got it",changesSaved:"Changes saved successfully",failedToUpdate:"Failed to update expense. Please try again.",failedToSend:"Failed to send message",failedToAdd:"Failed to add expense",verificationSent:"Verification email sent",checkEmail:"Please check your email to verify your account",emailNotVerified:"Email not verified",resendVerification:"Resend verification email",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",resetEmailSent:"Password reset email sent",enterEmailForReset:"Enter your email to reset password",noInternet:"No internet connection. Please check your network.",unarchiveGroup:"Unarchive Group",unarchiveSuccess:"Group unarchived",unarchiveConfirm:"Unarchive this group?",unarchiveConfirmDesc:"It will move back to the Active tab."},tr:{settings:"Ayarlar",general:"Genel",profile:"Profil",currency:"Para birimi",language:"Dil",notifications:"Bildirimler",theme:"Tema",system:"Sistem",light:"Açık",dark:"Koyu",permissions:"İzinler",help:"Yardım",legal:"Hukuki",inviteRate:"Davet Et & Puanla",selectCurrency:"Para Birimi Seç",selectLanguage:"Dil Seç",selectTheme:"Tema Seç",groupsTitle:"Gruplar",createNewGroup:"Yeni Grup Oluştur",joinGroup:"Gruba Katıl",joinViaCode:"Kod ile Katıl",groupName:"Grup Adı",enterGroupName:"Hafta sonu gezisi, Ev, vb.",inviteCode:"Davet Kodu",enterInviteCode:"Davet kodu gir",noGroupsYet:"Henüz grup yok",noGroupsDesc:"Arkadaşlarınızla ve ailenizle harcamaları takip etmek için yeni bir grup oluşturun veya mevcut bir gruba katılın.",membersCount:"üye",totalExpenses:"Toplam harcama",groupCreated:"Grup oluşturuldu",groupCreatedDesc:"başarıyla oluşturuldu",joinedGroup:"Gruba katıldınız",joinedGroupDesc:"Gruba başarıyla katıldınız",invalidInput:"Geçersiz giriş",enterGroupNameError:"Lütfen bir grup adı girin",enterInviteCodeError:"Lütfen bir davet kodu girin",creating:"Oluşturuluyor...",joining:"Katılıyor...",enterGroupNamePlaceholder:"Hafta sonu gezisi, Daire 4B, vb.",enterInviteCodePlaceholder:"Grup davet kodunu girin",inviteNotFound:"Bu davet kodu bulunamadı",inviteMissingInfo:"Davet grup bilgisi içermiyor",couldNotJoin:"Gruba katılınamadı",couldNotCreate:"Grup oluşturulamadı",groupBalance:"Grup Bakiyesi",netBalance:"Net Bakiye",youOwe:"Borçlusun",youreOwed:"Alacaklısın",allSettled:"Herkes Ödedi!",noOutstandingDebts:"Bekleyen borç yok",debts:"Borçlar",owes:"borçlu",you:"sana",You:"Sen",recordPayment:"Ödeme Kaydet",trackPayments:"Alınan ödemeleri kaydet",member:"Üye",selectMember:"Üye seç",amount:"Tutar",paymentType:"Ödeme Tipi",full:"Tam",custom:"Özel",partial:"Kısmi",enterAmount:"Tutar gir",recording:"Kaydediliyor...",addExpense:"Harcama Ekle",description:"Açıklama",groceriesEtc:"Market, yemek, vs.",category:"Kategori (opsiyonel)",selectCategory:"Kategori seç",enterCustomCategory:"Özel kategori gir",splitWith:"Paylaşım",adding:"Ekleniyor...",saving:"Kaydediliyor...",saveChanges:"Değişiklikleri Kaydet",expenseDetails:"Harcama Detayları",electricity:"Elektrik",water:"Su",groceries:"Market",internet:"İnternet",rent:"Kira",transport:"Ulaşım",dining:"Yemek",entertainment:"Eğlence",other:"Diğer",status:"Durum",members:"Üyeler",feed:"Akış",group:"Grup",sendMessage:"Mesaj gönder",typeMessage:"Mesaj yaz...",markAsPaid:"Ödendi Olarak İşaretle",edit:"Düzenle",deleteExpense:"Harcamayı Sil",paidBy:"Ödeyen",splitBetween:"Paylaşanlar",error:"Hata",success:"Başarılı",invalidAmount:"Geçersiz tutar",pleaseTryAgain:"Lütfen tekrar deneyin.",failedToLoad:"Yüklenemedi",paymentRecorded:"Ödeme kaydedildi",expenseAdded:"Harcama başarıyla eklendi",expenseUpdated:"Harcama başarıyla güncellendi",paymentMarked:"Ödeme işaretlendi",couldNotSave:"Ayarlar kaydedilemedi",justNow:"Şimdi",minutesAgo:"dk önce",hoursAgo:"sa önce",daysAgo:"gün önce",cancel:"İptal",close:"Kapat",delete:"Sil",update:"Güncelle",save:"Kaydet",email:"E-posta",password:"Şifre",signIn:"Giriş Yap",signUp:"Kayıt Ol",signOut:"Çıkış Yap",welcomeToKasa:"Kasa'ya Hoşgeldiniz",signInDesc:"Paylaşılan harcamalarınızı yönetmek için giriş yapın",createAccount:"Hesabınızı oluşturun",joinKasaDesc:"Arkadaşlarınızla harcama paylaşmak için Kasa'ya katılın",orContinueWith:"veya şununla devam et",dontHaveAccount:"Hesabınız yok mu?",alreadyHaveAccount:"Zaten hesabınız var mı?",loginWithGoogle:"Google ile giriş yap",signingIn:"Giriş yapılıyor...",connecting:"Bağlanılıyor...",creatingAccount:"Hesap oluşturuluyor...",fullName:"Ad Soyad",confirmPassword:"Şifreyi Onayla",enterPassword:"Şifrenizi girin",enterPasswordConfirm:"Şifrenizi tekrar girin",createStrongPassword:"Güçlü bir şifre oluşturun",googleSignInFailed:"Google ile giriş başarısız. Lütfen tekrar deneyin.",signInFailed:"Giriş başarısız. Lütfen bilgilerinizi kontrol edin.",passwordStrength:"Şifre gücü:",weak:"Zayıf",fair:"Orta",good:"İyi",strong:"Güçlü",atLeast8Chars:"En az 8 karakter",upperAndLowerCase:"Büyük ve küçük harfler",atLeastOneNumber:"En az bir rakam",passwordsDoNotMatch:"Şifreler eşleşmiyor",passwordTooWeak:"Şifre çok zayıf",invalidEmail:"Geçersiz e-posta adresi",emailRequired:"E-posta gereklidir",passwordRequired:"Şifre gereklidir",nameRequired:"Ad soyad gereklidir",profileUpdated:"Profil güncellendi",profileSaved:"Profiliniz kaydedildi.",couldNotSaveProfile:"Profil kaydedilemedi",totalSpent:"Toplam Harcama",balance:"Bakiye",appSettings:"Uygulama Ayarları",preferencesPermissions:"Tercihler ve izinler",ksExpenseApp:"Kasa Harcama Paylaşım Uygulaması",signOutConfirmTitle:"Çıkış Yap",signOutConfirmDesc:"Çıkış yapmak istediğinize emin misiniz? Gruplarınıza ve harcamalarınıza erişmek için tekrar giriş yapmanız gerekecek.",memberSince:"Üyelik tarihi",noName:"(İsimsiz)",paid:"ödedi",people:"kişi",hello:"Merhaba",expenseOverview:"Harcama özetiniz",invalidSplitAmount:"Geçersiz paylaşım tutarı",splitMismatch:"Paylaşım tutarları eşleşmiyor",inviteCodeGenerated:"Davet kodu oluşturuldu",copiedToClipboard:"Panoya kopyalandı",memberRemoved:"Üye çıkarıldı",ownershipTransferred:"Sahiplik devredildi",leftGroup:"Gruptan ayrıldı",transferOwnershipFirst:"Önce sahipliği devredin",paymentReceived:"Ödeme alındı",createFailed:"Oluşturma başarısız",joinFailed:"Katılma başarısız",invalidCode:"Geçersiz kod",inviteMissingGroup:"Davet grup bilgisi içermiyor",groupNotFound:"Grup bulunamadı",goBack:"Geri Dön",settlementRecorded:"Ödeme kaydedildi",memberJoined:"Üye katıldı",someone:"Biri",groupMembers:"Grup Üyeleri",owner:"Kurucu",transferOwnership:"Sahipliği Devret",removeMember:"Üyeyi Çıkar",generateInviteCode:"Davet Kodu Oluştur",generateInviteCodeDesc:"Başkalarıyla paylaşmak için kod oluşturun",leaveGroup:"Gruptan Ayrıl",leaveGroupDesc:"İstediğiniz zaman gruptan ayrılabilirsiniz.",leaveGroupOwnerDesc:"Grup kurucusunuz. Ayrılmadan önce sahipliği başkasına devretmelisiniz.",leaveGroupLastMemberDesc:"Son üyesiniz. Ayrılırsanız grup kalıcı olarak silinecek.",useMenuToTransfer:"Sahipliği devretmek için üyenin yanındaki ⋮ menüsünü kullanın.",myGroups:"Gruplarım",activeGroups:"aktif grup",activeTab:"Aktif",archivedTab:"Arşiv",unnamedGroup:"İsimsiz grup",noActiveGroups:"Aktif grup yok",createFirstGroup:"İlk Grubunu Oluştur",noArchivedGroups:"Arşivlenmiş grup yok",createGroupDesc:"Arkadaşlarınızla ve ailenizle harcamaları takip etmek için bir grup oluşturun.",loginRequired:"Giriş gerekli",loginRequiredDesc:"Gruba katılmak için lütfen giriş yapın.",enterCodeTitle:"Bir kod girin",enterCodeDesc:"Lütfen davet kodunu yapıştırın.",inviteDisabled:"Davet devre dışı",inviteDisabledDesc:"Bu davet kodu artık aktif değil.",genericErrorTitle:"Hata",genericErrorDesc:"Bir şeyler ters gitti. Lütfen tekrar deneyin.",joinedTitle:"Katıldınız!",joinedDesc:"Gruba katıldınız.",navHome:"Ana Sayfa",navGroups:"Gruplar",navProfile:"Profil",activityDetails:"Aktivite Detayları",amountLabel:"Tutar",userLabel:"Kullanıcı",groupLabel:"Grup",timeLabel:"Zaman",tabAll:"Tümü",tabExpenses:"Harcamalar",tabSettlements:"Hesaplaşmalar",showLess:"Daha Az Göster",viewAll:"Tümünü Gör",noActivityYet:"Henüz aktivite yok",noExpensesYet:"Henüz harcama yok",noSettlementsYet:"Henüz hesaplaşma yok",manageProfileInfo:"Profil bilgilerinizi yönetin",enableNotifications:"Uygulama bildirimlerini etkinleştir",camera:"Kamera",allowed:"İzin verildi",denied:"Reddedildi",photosMedia:"Fotoğraflar ve Medya",contacts:"Kişiler",termsOfService:"Kullanım Koşulları",readTerms:"Koşullarımızı okuyun",privacyPolicy:"Gizlilik Politikası",protectData:"Verilerinizi nasıl koruyoruz",licenses:"Lisanslar",openSourceLicenses:"Açık kaynak lisansları",faq:"SSS",frequentlyAsked:"Sıkça sorulan sorular",contactSupport:"Destek Ekibi",getHelp:"Ekibimizden yardım alın",reportProblem:"Sorun Bildir",letUsKnow:"Sorunlar hakkında bize bilgi verin",inviteFriends:"Arkadaşlarını Davet Et",shareKasa:"Kasa'yı başkalarıyla paylaş",rateUs:"Bizi Değerlendir",rateAppStore:"Bizi uygulama mağazasında değerlendirin",notificationsEnabled:"Bildirimler etkinleştirildi",notificationsDisabled:"Bildirimler devre dışı",willReceive:"Uygulama bildirimleri alacaksınız",wontReceive:"Uygulama bildirimleri almayacaksınız",currencyUpdated:"Para birimi güncellendi",currencySet:"Varsayılan para birimi şu şekilde ayarlandı:",languageUpdated:"Dil güncellendi",languageSet:"Dil şu şekilde ayarlandı:",themeUpdated:"Tema güncellendi",followingSystem:"Sistem görünümü takip ediliyor",switchedTo:"Şuna geçildi:",inviteLinkCopied:"Davet linki kopyalandı",shareLink:"Davet etmek için bu linki arkadaşlarınızla paylaşın",thankYou:"Teşekkürler!",redirecting:"Uygulama mağazasına yönlendiriliyor...",searchSettings:"Ayarlarda ara...",allRightsReserved:"Tüm hakları saklıdır",permission:"İzin",permissionAllows:"Bu izin, Kasa'nın şunlara erişmesine izin verir:",changeInSettings:"Bunu cihaz ayarlarınızdan değiştirebilirsiniz",gotIt:"Anladım",changesSaved:"Değişiklikler kaydedildi",failedToUpdate:"Harcama güncellenemedi. Lütfen tekrar deneyin.",failedToSend:"Mesaj gönderilemedi",failedToAdd:"Harcama eklenemedi",verificationSent:"Doğrulama e-postası gönderildi",checkEmail:"Hesabınızı doğrulamak için lütfen e-postanızı kontrol edin",emailNotVerified:"E-posta doğrulanmadı",resendVerification:"Doğrulama e-postasını tekrar gönder",forgotPassword:"Şifremi Unuttum?",resetPassword:"Şifreyi Sıfırla",resetEmailSent:"Şifre sıfırlama e-postası gönderildi",enterEmailForReset:"Şifrenizi sıfırlamak için e-postanızı girin",noInternet:"İnternet bağlantısı yok. Lütfen ağınızı kontrol edin.",unarchiveGroup:"Grubu Arşivden Çıkar",unarchiveSuccess:"Grup arşivden çıkarıldı",unarchiveConfirm:"Bu grubu arşivden çıkarmak istiyor musunuz?",unarchiveConfirmDesc:"Aktif sekmesine geri taşınacak."}},u=e=>e?.language==="tr"?"tr-TR":"en-US",c=(e,a)=>{let r=u(a),t=a?.currency??s.currency,i=Number.isFinite(e)?e:0;return new Intl.NumberFormat(r,{style:"currency",currency:t}).format(i/100)};function p({children:e}){let{toast:u}=(0,o.useToast)(),[p,m]=(0,r.useState)(s),[g,y]=(0,r.useState)(!0),[v,f]=(0,r.useState)(null),h=(0,r.useRef)(null),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=()=>{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===p.theme||"system"===p.theme&&e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(e(),"system"===p.theme){let a=window.matchMedia("(prefers-color-scheme: dark)"),r=()=>e();return a.addEventListener("change",r),()=>a.removeEventListener("change",r)}},[p.theme]),(0,r.useEffect)(()=>{let e=(0,t.onAuthStateChanged)(n.auth,e=>{if(k.current){try{k.current()}catch{}k.current=null}if(!e){f(null),m(s),y(!1);return}f(e.uid);let a=(0,i.doc)(n.db,"users",e.uid);k.current=(0,i.onSnapshot)(a,e=>{let a=e.data();m({...s,..."object"==typeof a?.settings?a.settings:{}}),y(!1)},e=>{console.error("Failed to load settings:",e),m(s),y(!1)})},e=>{console.error("Auth state error:",e),y(!1)});return()=>{if(e(),k.current)try{k.current()}catch{}h.current&&clearTimeout(h.current)}},[]);let b=e=>{m(a=>{let r={...a,...e};return v&&(h.current&&clearTimeout(h.current),h.current=setTimeout(async()=>{try{await (0,i.setDoc)((0,i.doc)(n.db,"users",v),{settings:r,updatedAt:(0,i.serverTimestamp)()},{merge:!0})}catch(e){console.error("Failed to persist settings:",e),u({variant:"destructive",title:"Could not save settings",description:"Please try again."})}},250)),r})},w=(0,r.useMemo)(()=>e=>c(e,p),[p]),S=(0,r.useMemo)(()=>{let e=p.language||"en";return a=>d[e]?.[a]||d.en?.[a]||a},[p.language]);return(0,a.jsx)(l.Provider,{value:{settings:p,loading:g,setTheme:e=>b({theme:e}),setCurrency:e=>b({currency:e}),setLanguage:e=>b({language:e}),setNotificationsEnabled:e=>b({notificationsEnabled:e}),formatMoney:w,t:S},children:e})}function m(){let e=(0,r.useContext)(l);if(!e)throw Error("useSettings must be used within a SettingsProvider");return e}e.s(["SettingsProvider",()=>p,"formatMoneyHelper",0,c,"getLocale",0,u,"useSettings",()=>m])},63209,e=>{"use strict";let a=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],63209)},81947,e=>{"use strict";var a=e.i(43476),r=e.i(25913),t=e.i(47163);let i=(0,r.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...n}){return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,t.cn)(i({variant:r}),e),...n})}function o({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,t.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...r})}e.s(["Alert",()=>n,"AlertDescription",()=>o])},61655,e=>{"use strict";var a=e.i(43476),r=e.i(71645);e.i(51718);var t=e.i(18357);e.i(36180);var i=e.i(98925),n=e.i(76009);let o=(0,r.createContext)(void 0),s={uid:null,displayName:"",email:"",photoURL:"",loading:!0,photoUpdatedAt:void 0,refreshAuthUser:async()=>{}};function l({children:e}){let[l,d]=(0,r.useState)(s),u=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=(0,t.onAuthStateChanged)(n.auth,async e=>{if(u.current){try{u.current()}catch{}u.current=null}if(!e)return void d({...s,loading:!1});let a=(0,i.doc)(n.db,"users",e.uid);try{(await (0,i.getDoc)(a)).exists()||await (0,i.setDoc)(a,{displayName:e.displayName||"",email:e.email||"",photoURL:e.photoURL||"",createdAt:(0,i.serverTimestamp)(),updatedAt:(0,i.serverTimestamp)()})}catch(e){console.error("Failed to create user document:",e)}u.current=(0,i.onSnapshot)(a,a=>{let r=a.data(),t=r?.displayName||e.displayName||"",i=r?.email||e.email||"",o=r?.photoURL||e.photoURL||"",s=r?.updatedAt?.toMillis?r.updatedAt.toMillis():void 0,l=((e,a)=>{if(!e)return"";if(!a)return e;let r=e.includes("?")?"&":"?";return`${e}${r}v=${a}`})(o,s);d({uid:e.uid,displayName:t,email:i,photoURL:l,photoUpdatedAt:s,loading:!1,refreshAuthUser:async()=>{await n.auth.currentUser?.reload()}})},()=>{d({uid:e.uid,displayName:e.displayName||"",email:e.email||"",photoURL:e.photoURL||"",photoUpdatedAt:void 0,loading:!1,refreshAuthUser:async()=>{await n.auth.currentUser?.reload()}})})},()=>{d({...s,loading:!1})});return()=>{try{e()}catch{}if(u.current)try{u.current()}catch{}}},[]),(0,a.jsx)(o.Provider,{value:l,children:e})}function d(){let e=(0,r.useContext)(o);if(!e)throw Error("useUserProfile must be used within UserProfileProvider");return e}e.s(["UserProfileProvider",()=>l,"useUserProfile",()=>d])},2355,e=>{"use strict";var a=e.i(47167),r=e.i(71645),t=e.i(18566);function i(){return"undefined"!=typeof window}function n(){return"production"}function o(){return"development"===((i()?window.vam:n())||"production")}function s(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function l(e){return(0,r.useEffect)(()=>{var a;e.beforeSend&&(null==(a=window.va)||a.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,r.useEffect)(()=>{!function(e={debug:!0}){var a;if(!i())return;!function(e="auto"){if("auto"===e){window.vam=n();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(a=window.va)||a.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc?e.scriptSrc:o()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return;let t=document.createElement("script");t.src=r,t.defer=!0,t.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),t.dataset.sdkv="1.5.0",e.disableAutoTrack&&(t.dataset.disableAutoTrack="1"),e.endpoint?t.dataset.endpoint=e.endpoint:e.basePath&&(t.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(t.dataset.dsn=e.dsn),t.onerror=()=>{let e=o()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},o()&&!1===e.debug&&(t.dataset.debug="false"),document.head.appendChild(t)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==a.default&&void 0!==a.default.env)return a.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,r.useEffect)(()=>{e.route&&e.path&&function({route:e,path:a}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:a})}({route:e.route,path:e.path})},[e.route,e.path]),null}function d(e){let i,n,o,{route:d,path:u}=(i=(0,t.useParams)(),n=(0,t.useSearchParams)(),o=(0,t.usePathname)(),i?{route:function(e,a){if(!e||!a)return e;let r=e;try{let e=Object.entries(a);for(let[a,t]of e)if(!Array.isArray(t)){let e=s(t);e.test(r)&&(r=r.replace(e,`/[${a}]`))}for(let[a,t]of e)if(Array.isArray(t)){let e=s(t.join("/"));e.test(r)&&(r=r.replace(e,`/[...${a}]`))}return r}catch(a){return e}}(o,Object.keys(i).length?i:Object.fromEntries(n.entries())),path:o}:{route:null,path:o});return r.default.createElement(l,{path:u,route:d,...e,basePath:function(){if(void 0!==a.default&&void 0!==a.default.env)return a.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function u(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(d,{...e}))}e.s(["Analytics",()=>u])},74577,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(81947),i=e.i(63209),n=e.i(17995);function o(){let{t:e}=(0,n.useSettings)(),[o,s]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{s(navigator.onLine);let e=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[]),o)?null:(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50",children:(0,a.jsxs)(t.Alert,{variant:"destructive",className:"rounded-none border-x-0 border-t-0 flex items-center justify-center h-10 px-4",children:[(0,a.jsx)(i.AlertCircle,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(t.AlertDescription,{children:e("noInternet")})]})})}e.s(["OfflineAlert",()=>o])}]);